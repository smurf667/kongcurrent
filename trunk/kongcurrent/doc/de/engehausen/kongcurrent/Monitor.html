<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_16) on Fri Feb 15 17:53:29 CET 2013 -->
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>
Monitor (kongcurrent 1.0 API)
</TITLE>

<META NAME="date" CONTENT="2013-02-15">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Monitor (kongcurrent 1.0 API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/Monitor.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../de/engehausen/kongcurrent/Logger.html" title="interface in de.engehausen.kongcurrent"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?de/engehausen/kongcurrent/Monitor.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Monitor.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
de.engehausen.kongcurrent</FONT>
<BR>
Class Monitor</H2>
<PRE>
<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</A>
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><B>de.engehausen.kongcurrent.Monitor</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>Monitor</B><DT>extends <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></DL>
</PRE>

<P>
Helper to monitor parallel method invocations for exceptions.
 <p><img src="doc-files/Monitor-1.png">
 <p>The monitor creates a proxied version of an object implementing some
 interface (for <i>classes:</i> <a href="#cglib">see below</a>); the proxy can track invocations of the objects' methods and
 can report on potential concurrent access on the object. This can be
 used to help find out code paths that concurrently access the object
 (through the interface methods).
 <p>Here is a simple example code snippet that will be adapted to use the monitor:
 <pre>List&lt;String&gt; myList = new ArrayList&lt;String&gt;();
processing(myList);</pre>
 Now you want to know what happens to the list when it is used in the
 <code>processing(List&lt;String&gt;)</code> method. Instead of the
 original list you simply pass the monitored version to the processing
 method:
 <pre>List&lt;String&gt; myList = new ArrayList&lt;String&gt;();
List&lt;String&gt; monitoredList = Monitor.monitor(myList, DefaultDescriptions.&lt;String&gt;listDescription(), new DefaultExceptionHandler());
processing(monitoredList);</pre>
 This code will create a monitored list based on the default description
 for <A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util"><CODE>List</CODE></A> objects; the default logger passed in will output to
 <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/System.out.html?is-external=true" title="class or interface in java.lang"><CODE>System.out</CODE></A>. The <A HREF="../../../de/engehausen/kongcurrent/helper/DefaultExceptionHandler.html" title="class in de.engehausen.kongcurrent.helper"><CODE>DefaultExceptionHandler</CODE></A> will record the
 stack traces of all callers and output these in case an exception occurs
 during method invocation of a monitored method. <b>Important:</b> Keeping
 track of this information is <i>costly</i>. The methods of the monitored
 instance can be considerably slowed down; this can directly affect the
 situation you try to analyze, up to the point where the situation you
 try to understand does not happen any more. Please keep this in mind.
 <p>In case of a problem, e.g. a <A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/ConcurrentModificationException.html?is-external=true" title="class or interface in java.util"><CODE>ConcurrentModificationException</CODE></A> the
 logger would output something similar to this:
 <pre>exception occurred:
Thread[Thread-1,5,main] - java.util.ConcurrentModificationException
        at java.util.AbstractList$Itr.checkForComodification(Unknown Source)
        at java.util.AbstractList$Itr.next(Unknown Source)
        at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
        at java.lang.reflect.Method.invoke(Unknown Source)
        at de.engehausen.kongcurrent.Monitor$MonitorHandler.invoke(Monitor.java:124)
        at $Proxy1.next(Unknown Source)
        at Test.run(Unknown Source)
        at java.lang.Thread.run(Unknown Source) 

the following threads were recently operating on the object:
Thread[Thread-1,5,main] - java.lang.Exception: caller...
        at $Proxy1.next(Unknown Source)
        at Test.run(Unknown Source)
        at java.lang.Thread.run(Unknown Source)
Thread[main,5,main] - java.lang.Exception: caller...
        at $Proxy0.add(Unknown Source)
        at Test.run(Unknown Source)
        at java.lang.Thread.run(Unknown Source)</pre>
 The output informs you that a <code>ConcurrentModificationException</code>
 occurred in thread "Thread-1,5,main" while iterating the list. It also shows
 you the stack traces of "recent" calls to the object. In there you find a thread
 which added to the list (thread "main,5,main"), while the other one was iterating
 the list - which explains why the exception occurred.
 <p>All this can be adapted to your needs. If you have a custom interface
 to monitor, you will likely need to provide a <A HREF="../../../de/engehausen/kongcurrent/Description.html" title="class in de.engehausen.kongcurrent"><CODE>Description</CODE></A> for the
 interface to monitor, which includes methods which may return "dependant"
 objects (i.e. objects that somehow are backed by the monitored object).
 If the object to monitor has special semantics you need to provide an
 appropriate <A HREF="../../../de/engehausen/kongcurrent/Comparator.html" title="interface in de.engehausen.kongcurrent"><CODE>Comparator</CODE></A>. For the Java collection objects default
 descriptions and comparators exist (see <A HREF="../../../de/engehausen/kongcurrent/helper/DefaultDescriptions.html" title="class in de.engehausen.kongcurrent.helper"><CODE>DefaultDescriptions</CODE></A> and
 <A HREF="../../../de/engehausen/kongcurrent/helper/DefaultComparators.html" title="class in de.engehausen.kongcurrent.helper"><CODE>DefaultComparators</CODE></A>).
 <p><a name="cglib">To monitor non-interface based instances have a look at
 the experimental <A HREF="../../../de/engehausen/kongcurrent/cglib/MonitorCglib.html" title="class in de.engehausen.kongcurrent.cglib"><CODE>MonitorCglib</CODE></A>.</a>
<P>

<P>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" SUMMARY="">
<TR ALIGN="right" VALIGN="">
<TD NOWRAP><FONT SIZE="-1">
<CODE>&lt;T&gt; T</CODE></FONT></TD>
</TR>
</TABLE>
</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../de/engehausen/kongcurrent/Monitor.html#monitor(T, de.engehausen.kongcurrent.Description, de.engehausen.kongcurrent.ExceptionHandler)">monitor</A></B>(T&nbsp;target,
        <A HREF="../../../de/engehausen/kongcurrent/Description.html" title="class in de.engehausen.kongcurrent">Description</A>&lt;T&gt;&nbsp;description,
        <A HREF="../../../de/engehausen/kongcurrent/ExceptionHandler.html" title="interface in de.engehausen.kongcurrent">ExceptionHandler</A>&nbsp;handler)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a monitored version of the given target.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" SUMMARY="">
<TR ALIGN="right" VALIGN="">
<TD NOWRAP><FONT SIZE="-1">
<CODE>&lt;T&gt; T</CODE></FONT></TD>
</TR>
</TABLE>
</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../de/engehausen/kongcurrent/Monitor.html#monitorGeneric(T, de.engehausen.kongcurrent.Description, de.engehausen.kongcurrent.ExceptionHandler)">monitorGeneric</A></B>(T&nbsp;target,
               <A HREF="../../../de/engehausen/kongcurrent/Description.html" title="class in de.engehausen.kongcurrent">Description</A>&nbsp;description,
               <A HREF="../../../de/engehausen/kongcurrent/ExceptionHandler.html" title="interface in de.engehausen.kongcurrent">ExceptionHandler</A>&nbsp;handler)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="monitor(java.lang.Object,de.engehausen.kongcurrent.Description,de.engehausen.kongcurrent.ExceptionHandler)"><!-- --></A><A NAME="monitor(T, de.engehausen.kongcurrent.Description, de.engehausen.kongcurrent.ExceptionHandler)"><!-- --></A><H3>
monitor</H3>
<PRE>
public static &lt;T&gt; T <B>monitor</B>(T&nbsp;target,
                            <A HREF="../../../de/engehausen/kongcurrent/Description.html" title="class in de.engehausen.kongcurrent">Description</A>&lt;T&gt;&nbsp;description,
                            <A HREF="../../../de/engehausen/kongcurrent/ExceptionHandler.html" title="interface in de.engehausen.kongcurrent">ExceptionHandler</A>&nbsp;handler)</PRE>
<DL>
<DD>Creates a monitored version of the given target.
<P>
<DD><DL>
<DT><B>Type Parameters:</B><DD><CODE>T</CODE> - the type of object to monitor<DT><B>Parameters:</B><DD><CODE>target</CODE> - the instance to monitor, must not be <code>null</code>.<DD><CODE>description</CODE> - a description of the interface, must not be <code>null</code>.<DD><CODE>handler</CODE> - an exception handler that keeps track of invocations on the
 proxied object; a single exception handler instance should be used per monitored
 instance, or the handler must be capable of tracking different objects at the
 same time.
<DT><B>Returns:</B><DD>a monitored version of the object to monitor, never <code>null</code>.</DL>
</DD>
</DL>
<HR>

<A NAME="monitorGeneric(java.lang.Object,de.engehausen.kongcurrent.Description,de.engehausen.kongcurrent.ExceptionHandler)"><!-- --></A><A NAME="monitorGeneric(T, de.engehausen.kongcurrent.Description, de.engehausen.kongcurrent.ExceptionHandler)"><!-- --></A><H3>
monitorGeneric</H3>
<PRE>
protected static &lt;T&gt; T <B>monitorGeneric</B>(T&nbsp;target,
                                      <A HREF="../../../de/engehausen/kongcurrent/Description.html" title="class in de.engehausen.kongcurrent">Description</A>&nbsp;description,
                                      <A HREF="../../../de/engehausen/kongcurrent/ExceptionHandler.html" title="interface in de.engehausen.kongcurrent">ExceptionHandler</A>&nbsp;handler)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/Monitor.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../de/engehausen/kongcurrent/Logger.html" title="interface in de.engehausen.kongcurrent"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?de/engehausen/kongcurrent/Monitor.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Monitor.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &#169; 2013. All Rights Reserved.
</BODY>
</HTML>
